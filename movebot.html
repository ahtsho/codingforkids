<!DOCTYPE html>
<html>
<head>
<script>
function updateTranslate(x,y){
	currXY = getCurrentXYval()
	nextPosx = currXY[0]+x*100
	nextPosy = currXY[1]+y*100
	if((nextPosx>0 && nextPosx<1000)&& (nextPosy>0 && nextPosy<1000)){
		setAttribute('translate('+nextPosx+','+nextPosy+') '+getCurrentRotate())
	} else {
		alert("Sorry can't get out of my world")
	}
}
function updateRotate(d){
	nextD = (getCurrentDval() + d)%360
	setAttribute(getCurrentTranslate()+' rotate('+nextD+',30,30)')
}
function setAttribute(val){
	document.getElementById("triangle").setAttribute('transform',val)
}
//"translate(x,y) rotate(d)"
function getCurrentTransform(){
	return document.getElementById("triangle").getAttribute('transform')
}
function getCurrentXYval(){
	xy = getCurrentTransform().split(" ")[0].replace(/translate/g,"").replace(/\(|\)/g, "").split(",")
	xy[0] = Number(xy[0])
	xy[1] = Number(xy[1])
	return xy
}
function getCurrentTranslate(){
	return getCurrentTransform().split(" ")[0]
}
function getCurrentRotate(){
	return getCurrentTransform().split(" ")[1]
}
function getCurrentDval(){
	return Number(getCurrentTransform().split(" ")[1].replace(/rotate/g,"").replace(/\(|\)/g, "").split(",")[0])
}
function move(){
	currOrientation = getCurrentDval()
	if(currOrientation==0){
		updateTranslate(0,1)
	}else if(currOrientation==90){
		updateTranslate(-1,0)
	}else if(currOrientation==180){
		updateTranslate(0,-1)
	}else if(currOrientation==270){
		updateTranslate(1,0)
	}
}
</script>
</head>
<body>

<body>
<button onclick="move()">&#8594;</button>
<button onclick="turnR()">&#8635;</button>
<button onclick="turnL()">&#8634;</button>

<div style="width:1001px;height:1001px">
  <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">

<polyline id="triangle"  points="10,2  60,2  35,52  10,2" style="stroke:#006600; fill: #33cc33;"transform="translate(25,25) rotate(0,30,30)" 
/>
<defs>
	<pattern id="grid" width="100" height="100" patternUnits="userSpaceOnUse">
		<rect width="100" height="100" fill="url(#smallGrid)"></rect>
		<path d="M 100 0 L 0 0 0 100" fill="none" stroke="gray" stroke-width="2"></path>
	</pattern>
	</defs>
	<rect width="100%" height="100%" fill="url(#grid)"></rect>
</svg>
</div>

</body>
</body>
</html>