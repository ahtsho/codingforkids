<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="style.css">
		<script src="js/board.js"></script>
		<script src="js/boardobject.js"></script>
		<script src="js/robot.js"></script>
		<script src="js/battery.js"></script>
		<script src="js/asteroid.js"></script>
		<script src="js/game.js"></script>
		<script src="js/practicemove.js"></script>
		<script src="js/avoidasteroids.js"></script>
		<script src="script.js"></script>
		<link rel="stylesheet" type="text/css" href="iconselect/css/lib/control/iconselect.css" >
		<script type="text/javascript" src="iconselect/lib/control/iconselect.js"></script>
		<script type="text/javascript" src="iconselect/lib/iscroll.js"></script>
		<script type="text/javascript">
		 window.onload = function(){
		 	var iconSelect;
		 	var game = new PracticeMove();

/*----------BUTTON EVENT LISTENERS-------------------------*/

		 	var buttonMove = document.getElementById("button-move");
		 	buttonMove.addEventListener('click', function() {
		 		game.move();
			});

		 	var buttonMove = document.getElementById("button-turn-left");
		 	buttonMove.addEventListener('click', function() {
		 		game.robot.turnLeft();
		 		game.robot.draw();
			});

		 	var buttonMove = document.getElementById("button-turn-right");
		 	buttonMove.addEventListener('click', function() {
		 		game.robot.turnRight();
		 		game.robot.draw();
			});

		 	document.addEventListener("keydown", function(event) {
			const key = event.key; // "ArrowRight", "ArrowLeft", "ArrowUp", or "ArrowDown"
			if(activePage!=="conta"){
				switch (key) { // change to event.key to key to use the above variable
					case "ArrowLeft":
						game.robot.turnLeft();
						game.robot.draw();
					  break;
					case "ArrowRight":
						game.robot.turnRight()
						game.robot.draw();
					  break;
					case "ArrowUp":
						game.move();
					  break;
					case "ArrowDown":
					  // Down pressed
					  break;
					}
				}
			});
/*----------PAGE EVENT LISTENERS-------------------------*/
			var home = document.getElementById("casa");
		 		home.addEventListener('click', function() {
		 		game = new PracticeMove();
				activate("casa")
				showButtons()
			});

			var home = document.getElementById("scegli");
			 	home.addEventListener('click', function() {
				game = new AvoidAsteroids();
				activate("scegli")
				showButtons()
			});
		 }
		</script>
	</head>
	<body>
		<h1><span class="main-title"><span>C</span><span>O</span><span>D</span><span>I</span><span>N</span><span>G</span></span>
		<div class="topnav">
		 <a id="casa" class="active">Prova</a>
		 <a id="scegli" onClick="asteroidGame()">Scegli</a>
		 <a id="conta" onClick="conta()">Conta</a>
		 <a id="contagruppi" onClick="contagruppi()">Conta gruppi</a>
		</div>
		</h1>
		<div id="dashboard">
			<button id="button-restart-robot" class="button button4 button6" onclick="placeRobotRand()">Robot</button>
			<button id="button-restart-countgroup" class="button button4 button6 button7" onclick="loadIconSelection()">Pulisci comandi</button>
			<button id="button-restart-asteroid" class="button button4 button6 button7" onclick="loadIconSelection()">Asteroidi</button>
		</div>
		<div id="board">
			<div id="celebrate" class="">
    		<div class="before"></div>
    		<div class="after"></div>
		</div>
		<div id="boardobjs"></div>
		<svg id="maze" class="coding" width="500" height="500" xmlns="http://www.w3.org/2000/svg">
			<g>
				<g id="vertical">
					<line class="border-line" y2="500" x2="0"	y1="0" x1="0" />
					<line y2="500" x2="100" y1="0" x1="100" />
					<line y2="500" x2="200" y1="0" x1="200" />
					<line y2="500" x2="400" y1="0" x1="400" />
					<line y2="500" x2="300" y1="0" x1="300" />
					<line y2="500" x2="300" y1="0" x1="300" />
					<line class="border-line" y2="500" x2="500" y1="0" x1="500" />
				</g>
				<g id="horizontal" transform="rotate(90 250,250) ">
					<line class="border-line" y2="500" x2="0"	y1="0" x1="0" />
					<line y2="500" x2="100" y1="0" x1="100" />
					<line y2="500" x2="200" y1="0" x1="200" />
					<line y2="500" x2="400" y1="0" x1="400" />
					<line y2="500" x2="300" y1="0" x1="300" />
					<line y2="500" x2="300" y1="0" x1="300" />
					<line class="border-line" y2="500" x2="500" y1="0" x1="500" />
				</g>
			</g>
		 </svg>
		 <div id="buttons">
			<button id="button-move"class="button button4 up" >
				<svg width="37" height="58" xmlns="http://www.w3.org/2000/svg">
					<g>
					 <path id="svg_2" d="m0.75,29.18159l17.5,-28.43159l17.5,28.43159l-8.75,0l0,28.5684l-17.5,0l0,-28.5684l-8.75,0z" stroke-width="1.5" fill="#ffffff" stroke="#156507"/>
					</g>
				</svg>
			</button>
			<button id="button-turn-left" class="button button4 yellow">
				<svg width="44" height="58" xmlns="http://www.w3.org/2000/svg">
					<g>
					 <path fill="#ffffff" stroke-width="1.5" stroke-opacity="null" d="m18.83956,11.71204l0,-10.96204l-18.08956,19.64168l18.08956,19.64185l-0.20204,-6.8045c-1.15261,-12.71093 15.41693,-12.97488 13.3965,1.85747c-2.02042,14.83235 -8.66823,16.49803 -8.66823,16.49803l0,5.9898c0,0 20.21742,1.29912 20.21742,-27.60397c0,-22.70744 -13.67868,-18.01602 -24.74365,-18.25832z" id="svg_9" stroke="#cab83c"/>
					</g>
				</svg>
			</button>
			<button id="button-turn-right" class="button button4 red">
				<svg width="44" height="58" xmlns="http://www.w3.org/2000/svg">
					<g transform="translate(45,0) scale(-1,1)">
					 <path fill="#ffffff" stroke-width="1.5" stroke-opacity="null" d="m18.83956,11.71204l0,-10.96204l-18.08956,19.64168l18.08956,19.64185l-0.20204,-6.8045c-1.15261,-12.71093 15.41693,-12.97488 13.3965,1.85747c-2.02042,14.83235 -8.66823,16.49803 -8.66823,16.49803l0,5.9898c0,0 20.21742,1.29912 20.21742,-27.60397c0,-22.70744 -13.67868,-18.01602 -24.74365,-18.25832z" id="svg_9" stroke="#5f1d09"/>
					</g>
				</svg>
			</button>
			<button id="button5" class="button button4" onclick="location.reload();">Nuovo Gioco</button>
		 </div>
		 <div id="counters" >
	   		<div class="counter-block">
				   		<input id="input1" class="number" type="text" maxlength="4" size="1"></input>
					    <fieldset class="select-box-svg t-neutral">
					    	<div id="my-icon-select1"></div>
					    </fieldset>
					</div>
					<div class="counter-block">
				   		<input id="input2" class="number" type="text" maxlength="4" size="1"></input>
					    <fieldset class="select-box-svg t-neutral">
					    	<div id="my-icon-select2"></div>
					    </fieldset>
					</div>
					<div class="counter-block">
				   		<input id="input3" class="number" type="text" maxlength="4" size="1"></input>
					    <fieldset class="select-box-svg t-neutral">
					    	<div id="my-icon-select3"></div>
					    </fieldset>
					</div>
					<div class="counter-block">
				   		<input id="input4" class="number" type="text" maxlength="4" size="1"></input>
					    <fieldset class="select-box-svg t-neutral">
					    	<div id="my-icon-select4"></div>
					    </fieldset>
					</div>
			<button id="button-count" class="button button4 left" onclick="loadActions()">VAI</button>
		</div>
		<div id="countergroup">
			<div class="row">
				<input id="row-input1" class="number" type="text" maxlength="4" size="1"></input>
		   		<div class="counter-block">
				    <fieldset class="select-box-svg t-neutral">
				    	<div id="my-icon-select5"></div>
				    </fieldset>
				</div>
				<div class="counter-block">
				    <fieldset class="select-box-svg t-neutral">
				    	<div id="my-icon-select6"></div>
				    </fieldset>
				</div>
				<div class="counter-block">
				    <fieldset class="select-box-svg t-neutral">
				    	<div id="my-icon-select7"></div>
				    </fieldset>
				</div>
				<div class="counter-block">
				    <fieldset class="select-box-svg t-neutral">
				    	<div id="my-icon-select8"></div>
				    </fieldset>
				</div>
				<div class="counter-block">
				    <fieldset class="select-box-svg t-neutral">
				    	<div id="my-icon-select9"></div>
				    </fieldset>
				</div>
			</div>
			<div class="row">
				<input id="row-input2" class="number" type="text" maxlength="4" size="1"></input>
		   		<div class="counter-block">
				    <fieldset class="select-box-svg t-neutral">
				    	<div id="my-icon-select10"></div>
				    </fieldset>
				</div>
				<div class="counter-block">
				    <fieldset class="select-box-svg t-neutral">
				    	<div id="my-icon-select11"></div>
				    </fieldset>
				</div>
				<div class="counter-block">
				    <fieldset class="select-box-svg t-neutral">
				    	<div id="my-icon-select12"></div>
				    </fieldset>
				</div>
				<div class="counter-block">
				    <fieldset class="select-box-svg t-neutral">
				    	<div id="my-icon-select13"></div>
				    </fieldset>
				</div>
				<div class="counter-block">
				    <fieldset class="select-box-svg t-neutral">
				    	<div id="my-icon-select14"></div>
				    </fieldset>
				</div>
			</div>
			<div class="row">
				<input id="row-input3" class="number" type="text" maxlength="4" size="1"></input>
		   		<div class="counter-block">
				    <fieldset class="select-box-svg t-neutral">
				    	<div id="my-icon-select15"></div>
				    </fieldset>
				</div>
				<div class="counter-block">
				    <fieldset class="select-box-svg t-neutral">
				    	<div id="my-icon-select16"></div>
				    </fieldset>
				</div>
				<div class="counter-block">
				    <fieldset class="select-box-svg t-neutral">
				    	<div id="my-icon-select17"></div>
				    </fieldset>
				</div>
				<div class="counter-block">
				    <fieldset class="select-box-svg t-neutral">
				    	<div id="my-icon-select18"></div>
				    </fieldset>
				</div>
				<div class="counter-block">
				    <fieldset class="select-box-svg t-neutral">
				    	<div id="my-icon-select19"></div>
				    </fieldset>
				</div>
			</div>
			<div class="row">
				<input id="row-input4" class="number" type="text" maxlength="4" size="1"></input>
		   		<div class="counter-block">
				    <fieldset class="select-box-svg t-neutral">
				    	<div id="my-icon-select20"></div>
				    </fieldset>
				</div>
				<div class="counter-block">
				    <fieldset class="select-box-svg t-neutral">
				    	<div id="my-icon-select21"></div>
				    </fieldset>
				</div>
				<div class="counter-block">
				    <fieldset class="select-box-svg t-neutral">
				    	<div id="my-icon-select22"></div>
				    </fieldset>
				</div>
				<div class="counter-block">
				    <fieldset class="select-box-svg t-neutral">
				    	<div id="my-icon-select23"></div>
				    </fieldset>
				</div>
				<div class="counter-block">
				    <fieldset class="select-box-svg t-neutral">
				    	<div id="my-icon-select24"></div>
				    </fieldset>
				</div>
			</div>
			<div class="row">
				<input id="row-input5" class="number" type="text" maxlength="4" size="1"></input>
		   		<div class="counter-block">
				    <fieldset class="select-box-svg t-neutral">
				    	<div id="my-icon-select25"></div>
				    </fieldset>
				</div>
				<div class="counter-block">
				    <fieldset class="select-box-svg t-neutral">
				    	<div id="my-icon-select26"></div>
				    </fieldset>
				</div>
				<div class="counter-block">
				    <fieldset class="select-box-svg t-neutral">
				    	<div id="my-icon-select27"></div>
				    </fieldset>
				</div>
				<div class="counter-block">
				    <fieldset class="select-box-svg t-neutral">
				    	<div id="my-icon-select28"></div>
				    </fieldset>
				</div>
				<div class="counter-block">
				    <fieldset class="select-box-svg t-neutral">
				    	<div id="my-icon-select29"></div>
				    </fieldset>
				</div>
			</div>
			<button id="button-count" class="button button4 left" onclick="loadGroupActions()">VAI</button>
		</div>
		<script>
			document.addEventListener('onkeypress', () => {
				console.log("arrow");
			});
			const board = document.getElementById('board');
			board.addEventListener('transitionend', () => {
			  console.log('Transition ended');
			});
			board.addEventListener('animationend', () => {
			   	removeAllBouncesFromBoard();
			   	removeShakeFromAllAsteroids();
			});
			//document.onkeydown = checkKey();
			
		document.addEventListener('transitionend', () => {
			if(activePage==="conta"||activePage==="contagruppi"){
				playNext()
			}
		});
		</script>
	</body>
<html>